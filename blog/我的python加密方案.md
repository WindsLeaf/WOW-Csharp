# 我的python加密方案

## 前言

**首先，pyhon是动态语言，解释型语言，边编译边运行的特点就决定了他不太好加密，在现有的加密方案里面，只要有心，绝大部分都能被破解(被别人看到源代码)，这是现实。**

知乎👇这篇文章将现有的几个方案的利弊说的很清楚

如何保护你的 Python 代码 （一）—— 现有加密方案 - Prodesire的文章 - 知乎 https://zhuanlan.zhihu.com/p/54296517

那么我们应该怎么办呢？

笔者的建议是，**如果代码写的足够好**，**那就直接开源**，开源带给你的声誉和利益可能远高于闭源，这个可以参考Linux kernel。

**如果代码写的一般**，那么开源的意义就不大了，**如果你的代码偏服务类，那么可以采用搭建服务器，提供web服务**，当然了，这个也不是万能，一是web服务几乎相当于把后端接口和接口的使用方法全部告诉了前端，前端代码写的不咋地的话，很容易就被爬虫了，当然，如果后端代码写的不咋地但前端写的很到位，一样会被爬虫。**防止爬虫是前端和后端都应该考虑的事情**，比如说，数据库应该对核心数据进行一定程度上的加密，就像对密码进行md5加密。再比如说增加ip地址检测机制，再再比如说，前端往后端传数据的时候，蓄意传一些没啥用的假数据，迷惑一下对手，再比如说整些伪元素，数据放css的content里面，想拿数据是吧？先看懂我的js和css再说！或者说修改字符集，123变成321之类的，具体的各大公司的反爬虫手段都在这了👉[各大前端巨头反爬虫策略 - 爬虫一只 - 博客园 (cnblogs.com)](https://www.cnblogs.com/zale-blogs/p/9223089.html)，但是，**如果你写的代码压根就不适合提供web服务，比如说你卖脚本，那就没办法了，web服务不适合你。**

**既无法开源又无法做web服务，还不想用c语言重写核心代码，那就只能想着进行加密了。**



## 我的加密方案

首先，咱要明白咱为什么要加密

1. 防止源代码被别人看到，别人窃取源代码
2. 防止别人虽然看不到源代码或者看不懂源代码，但是已经明白了如何调用你程序的API。

### 第一步——代码混肴

为了解决上面两个问题，咱们要做的第一件事情就是代码混肴，这一部分的目的就是让你看不懂我的源代码。

### 第二步——Cpython编译核心文件

使用 `Cython` 进行开发的步骤也不复杂。

1）编写文件 `hello.pyx` 或 `hello.py`：

```python
def hello():
    print('hello')
```

2）编写 `setup.py`：

```python
from distutils.core import setup
from Cython.Build import cythonize

setup(name='Hello World app',
     ext_modules=cythonize('hello.pyx'))
```

3）编译为 `.c`，再进一步编译为 `.so` 或 `.pyd`：

```bash
python setup.py build_ext --inplace
```

### 第三步——main.py编写，加入混肴试听的假参数，加入自爆程序

